{# Template blocks to be used for fieldDefinition edition #}
{# Block naming convention is <fieldTypeIdentifier>_field_definition_edit #}
{# Following variables are passed:
 # - \EzSystems\RepositoryForms\Data\FieldDefinitionData data Data object for current fieldDefinition.
 # - \Symfony\Component\Form\FormView form Field definition form.
 # - string languageCode
 #}

{# @var data \EzSystems\RepositoryForms\Data\FieldDefinitionData #}
{# @var form \Symfony\Component\Form\FormView #}
{% block ezbinaryfile_field_definition_edit %}
    <div class="ezbinaryfile-validator max-file-size{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.maxSize) -}}
        {{- form_errors(form.maxSize) -}}
        {{- form_widget(form.maxSize) -}}
    </div>
{% endblock %}

{% block ezcountry_field_definition_edit %}
    <div class="ezcountry-settings is-multiple{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.isMultiple) -}}
        {{- form_errors(form.isMultiple) -}}
        {{- form_widget(form.isMultiple) -}}
    </div>

    <div class="ezcountry-default-value{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.defaultValue) -}}
        {{- form_errors(form.defaultValue) -}}
        {{- form_widget(form.defaultValue) -}}
    </div>
{% endblock %}

{% block ezdate_field_definition_edit %}
    <div class="ezdate-settings default-type{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.defaultType) -}}
        {{- form_errors(form.defaultType) -}}
        {{- form_widget(form.defaultType) -}}
    </div>
{% endblock %}

{% block ezdatetime_field_definition_edit %}
    <div class="ezdatetime-settings use-seconds{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.useSeconds) -}}
        {{- form_errors(form.useSeconds) -}}
        {{- form_widget(form.useSeconds) -}}
    </div>

    <div class="ezdatetime-settings default-type{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.defaultType) -}}
        {{- form_errors(form.defaultType) -}}
        {{- form_widget(form.defaultType) -}}
    </div>

    <div class="ezdatetime-settings date-interval{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.dateInterval) -}}
        {{- form_errors(form.dateInterval) -}}
        {{- form_widget(form.dateInterval) -}}
    </div>
{% endblock %}

{% block ezfloat_field_definition_edit %}
    <div class="ezfloat-validator min-value{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.minValue) -}}
        {{- form_errors(form.minValue) -}}
        {{- form_widget(form.minValue) -}}
    </div>

    <div class="ezfloat-validator max-value{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.maxValue) -}}
        {{- form_errors(form.maxValue) -}}
        {{- form_widget(form.maxValue) -}}
    </div>
{% endblock %}

{% block ezimage_field_definition_edit %}
    <div class="ezimage-validator max-file-size{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.maxSize) -}}
        {{- form_errors(form.maxSize) -}}
        {{- form_widget(form.maxSize) -}}
    </div>
{% endblock %}

{% block ezinteger_field_definition_edit %}
    <div class="ezinteger-validator min-value{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.minValue) -}}
        {{- form_errors(form.minValue) -}}
        {{- form_widget(form.minValue) -}}
    </div>

    <div class="ezinteger-validator max-value{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.maxValue) -}}
        {{- form_errors(form.maxValue) -}}
        {{- form_widget(form.maxValue) -}}
    </div>
{% endblock %}

{% block ezisbn_field_definition_edit %}
    <div class="ezisbn-settings is-isbn13{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.isISBN13) -}}
        {{- form_errors(form.isISBN13) -}}
        {{- form_widget(form.isISBN13) -}}
    </div>
{% endblock %}

{% block ezmedia_field_definition_edit %}
    <div class="ezmedia-validator max-file-size{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.maxSize) -}}
        {{- form_errors(form.maxSize) -}}
        {{- form_widget(form.maxSize) -}}
    </div>

    <div class="ezmedia-settings media-type{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.mediaType) -}}
        {{- form_errors(form.mediaType) -}}
        {{- form_widget(form.mediaType) -}}
    </div>
{% endblock %}

{% block ezobjectrelation_field_definition_edit %}
    <div class="ezobjectrelation-settings selection-root">
        {{- form_label(form.selectionRoot) -}}
        {{- form_errors(form.selectionRoot) -}}
        {{- form_widget(form.selectionRoot) -}}

        <button data-universaldiscovery-title="{{"field_definition.ezobjectrelation.selection_root_udw_title"|trans({}, "ezrepoforms_content_type")}}"
                class="ez-button-tree pure-button ez-font-icon ez-button ez-relation-pick-root-button"
                data-relation-root-input-selector="#{{form.selectionRoot.vars.id}}"
                data-relation-selected-root-name-selector="#{{form.selectionRoot.vars.id}}-selected-root-name"
                >{{"field_definition.ezobjectrelation.selection_root_udw_button"|trans({}, "ezrepoforms_content_type")}}</button>
        <div id="{{form.selectionRoot.vars.id}}-selected-root-name">
            {% if form.selectionRoot.vars.value is not empty %}
                {{ render( controller( "ez_content:viewLocation", {'locationId': form.selectionRoot.vars.value, 'viewType': '_platformui_content_name'} ) ) }}
            {% endif %}
        </div>
    </div>
{% endblock %}

{% block ezobjectrelationlist_field_definition_edit %}
    <div class="ezobjectrelationlist-settings selection-default-location">
        {{- form_label(form.selectionDefaultLocation) -}}
        {{- form_errors(form.selectionDefaultLocation) -}}
        {{- form_widget(form.selectionDefaultLocation) -}}

        <button data-universaldiscovery-title="{{"field_definition.ezobjectrelationlist.selection_root_udw_title"|trans({}, "ezrepoforms_content_type")}}"
                class="ez-button-tree pure-button ez-font-icon ez-button ez-relation-pick-root-button"
                data-relation-root-input-selector="#{{form.selectionDefaultLocation.vars.id}}"
                data-relation-selected-root-name-selector="#{{form.selectionDefaultLocation.vars.id}}-selected-root-name"
                >{{"field_definition.ezobjectrelationlist.selection_root_udw_button"|trans({}, "ezrepoforms_content_type")}}</button>
        <div id="{{form.selectionDefaultLocation.vars.id}}-selected-root-name">
            {% if form.selectionDefaultLocation.vars.value is not empty %}
                {{ render( controller( "ez_content:viewLocation", {'locationId': form.selectionDefaultLocation.vars.value, 'viewType': '_platformui_content_name'} ) ) }}
            {% endif %}
        </div>
    </div>

    <div class="ezobjectrelationlist-settings selection-content-types">
        {{- form_label(form.selectionContentTypes) -}}
        {{- form_errors(form.selectionContentTypes) -}}
        {{- form_widget(form.selectionContentTypes) -}}
    </div>
{% endblock %}

{% block ezpage_field_definition_edit %}
    <div class="ezpage-settings default-layout{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.defaultLayout) -}}
        {{- form_errors(form.defaultLayout) -}}
        {{- form_widget(form.defaultLayout) -}}
    </div>
{% endblock %}

{% block ezrichtext_field_definition_edit %}
    <div class="ezrichtext-settings num-rows{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.numRows) -}}
        {{- form_errors(form.numRows) -}}
        {{- form_widget(form.numRows) -}}
    </div>
{% endblock %}

{% block ezselection_field_definition_edit %}
    <div class="ezselection-settings is-multiple{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.isMultiple) -}}
        {{- form_errors(form.isMultiple) -}}
        {{- form_widget(form.isMultiple) -}}
    </div>

    <div id="{{form.options.vars.id}}-ezselection-root-options-list"
         class="ezselection-settings options{% if group_class is not empty %} {{ group_class }}{% endif %}"
         data-prototype="{{ ( form_widget(form.options.vars.prototype) ~ ' ' ~
                              '<button id="' ~ form.options.vars.id ~ '-ez-selection-delete-option-button-__prototype__"' ~
                              '        class="pure-button ez-font-icon ez-button ez-button-delete ez-selection-delete-option-button"' ~
                              '        data-relation-option-item-id="#' ~ form.options.vars.id ~ '-ezselection-option-list-item-__prototype__">' ~
                                  'field_definition.ezselection.delete_option_button'|trans({}, 'ezrepoforms_content_type') ~
                              '</button>'
                            )|e('html_attr') }}">
        {{ form_label(form.options) }}
        {{ form_errors(form.options) }}
        {% for option in form.options %}
            <div id="{{form.options.vars.id}}-ezselection-option-list-item-{{ loop.index0 }}"
                 class="{{form.options.vars.id}}-ezselection-option-list-item ezselection-settings-option">
                {{ form_errors(option) }}
                {{ form_widget(option) }}
                <button id="{{form.options.vars.id}}-ez-selection-delete-option-button-{{ loop.index0 }}"
                        class="pure-button ez-font-icon ez-button ez-button-delete ez-selection-delete-option-button"
                        data-relation-option-item-id="#{{form.options.vars.id}}-ezselection-option-list-item-{{ loop.index0 }}"
                        >{{'field_definition.ezselection.delete_option_button'|trans({}, 'ezrepoforms_content_type')}}</button>
            </div>
        {% endfor %}
    </div>
    <button class="pure-button ez-font-icon ez-button ez-selection-add-option-button"
            data-icon="&#xe616;"
            data-relation-option-item-class="{{form.options.vars.id}}-ezselection-option-list-item"
            data-relation-root-options-list-id="#{{form.options.vars.id}}-ezselection-root-options-list"
            >{{"field_definition.ezselection.add_option_button"|trans({}, "ezrepoforms_content_type")}}</button>
{% endblock %}

{% block ezstring_field_definition_edit %}
    <div class="ezstring-validator min-length{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.minLength) -}}
        {{- form_errors(form.minLength) -}}
        {{- form_widget(form.minLength) -}}
    </div>

    <div class="ezstring-validator max-length{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.maxLength) -}}
        {{- form_errors(form.maxLength) -}}
        {{- form_widget(form.maxLength) -}}
    </div>

    <div class="ezstring-default-value{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.defaultValue) -}}
        {{- form_errors(form.defaultValue) -}}
        {{- form_widget(form.defaultValue) -}}
    </div>
{% endblock %}

{% block eztext_field_definition_edit %}
    <div class="eztext-settings text-rows{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.textRows) -}}
        {{- form_errors(form.textRows) -}}
        {{- form_widget(form.textRows) -}}
    </div>
{% endblock %}

{% block eztime_field_definition_edit %}
    <div class="eztime-settings use-seconds{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.useSeconds) -}}
        {{- form_errors(form.useSeconds) -}}
        {{- form_widget(form.useSeconds) -}}
    </div>

    <div class="eztime-settings default-type{% if group_class is not empty %} {{ group_class }}{% endif %}">
        {{- form_label(form.defaultType) -}}
        {{- form_errors(form.defaultType) -}}
        {{- form_widget(form.defaultType) -}}
    </div>
{% endblock %}
